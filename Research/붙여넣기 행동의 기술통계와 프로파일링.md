## 🧩 개념 및 기호 정리

- **알파벳(문자 토큰) 집합**
  Σ : 가능한 문자들의 집합 (alphabet)

- **유한 길이 문자열의 집합**
  Σ* : Σ로 구성된 모든 유한 길이 문자열의 집합  

- **이벤트 타입 집합**
  T = { type, paste, output, error, success, fail }

- **이벤트 정의**
  e = (τ, t, s) ∈ T × ℝ × Σ*
  - τ : 이벤트 타입 (예: paste, error 등)
  - t : 시간 (timestamp)
  - s : 코드 문자열 또는 변화된 코드 조각

- **프로그래밍 과정 (Programming Process)**
  P = (e₁, e₂, …, eₙ)
  → 이벤트들의 유한 수열로, 시간순으로 정렬된 프로그래밍 로그를 의미함.

- **붙여넣기 이벤트**
  vₖ = (paste, tₖ, cₖ)
  → k번째 이벤트가 paste 타입일 때, 붙여넣은 코드 내용을 cₖ라 함.

- **기존 컨텐츠 (붙여넣기 직전 코드)**
  xₖ⁻ ∈ Σ*
  → vₖ 직전 시점의 코드 상태를 나타냄.

- **멀티집합(Multiset) 표현**
  문자열을 문자 또는 토큰의 빈도 멀티집합으로 표현:
  bag(s)

  멀티집합의 크기와 교집합은 다음과 같이 정의함:
  |A| = Σ count_A(a)
  A ∩ B = min(count_A, count_B)

---

## 📊 지표(특성)의 정의 (토큰 단위 비교 버전)

1. **붙여넣기 길이**
   L_paste(k) = |cₖ|

2. **붙여넣기-기존 코드 겹침 비율 (토큰 단위)**
   R_overlap(k) = |bag(tokenize(cₖ)) ∩ bag(tokenize(xₖ⁻))| / |bag(tokenize(cₖ))|

   - tokenize(·) : 코드 문자열을 파이썬 토큰 시퀀스로 변환하는 함수  
   - bag(·) : 토큰의 멀티집합 표현  
   → 단순 문자 비교 대신 **의미 단위(토큰)**를 기준으로 유사도를 계산함  
   → 공백·주석·들여쓰기 등 비의미 요소의 영향을 제거

3. **붙여넣기 수정 비율 (문자열 리터럴 변환 기준)**
   M_literal(k) = 1 - sim(norm_STR(cₖ), norm_STR(y))

4. **붙여넣기 수정 비율 (문자열 + 연산자 변환 기준)**
   M_op(k) = 1 - sim(norm_STR+OP(cₖ), norm_STR+OP(y))

   - norm_STR : 문자열 리터럴을 <STR>로 치환한 토큰열  
   - norm_STR+OP : 문자열과 연산자 토큰을 <STR>, <OP>로 치환  
   - sim : 시퀀스 유사도 (예: difflib 기반, 0–1 범위)

5. **최종 제출 코드 내 붙여넣기 기여 비율 (토큰 단위)**
   R_final_from_paste =
   |(Σ bag(tokenize(cₖ))) ∩ bag(tokenize(x_final))| / |bag(tokenize(x_final))|

   - 모든 붙여넣기 코드의 토큰 멀티집합을 합산 후 최종 코드의 토큰과 교집합 계산  
   - 동일한 토큰이 여러 번 붙여넣어졌다면 그 빈도까지 반영됨  
   - 코드 전체의 **붙여넣기 기여 정도**를 토큰 기준으로 정량화

